@import '~ui-variables';
@import '~ui-mixins';

.ui-mixin-keyframes(
  move-progress-bar,
  {background-position: 0 0;},
  {background-position: @ui-unit-double @ui-unit-double;}
);

.@{prefix-cls}-button {
  .ui-mixin-unselectable();
  cursor: pointer;
  max-width: 100%;
  margin-right: @ui-unit-half;
  align-items: center;
  position: relative;
  display: inline-flex;
  flex-direction: column;
  justify-content: center;
  transition: background-color .2s ease, color .2s ease, border-color .2s ease;

  &:last-child {
    margin-right: 0;
  }

  & i.@{prefix-cls}-icon {
    .ui-mixin-reduce-l();
    margin-right: 0;
    font-size: 20px;
    line-height: @ui-fontsize;
    vertical-align: middle;
  }

  &_block {
    width: 100%;
    margin-top: @ui-unit-half;
    &:first-child {
      margin-top: 0;
    }
  }
}

// Type.........................................................................

.@{prefix-cls}-button {
  &_primary,
  &_secondary,
  &_accept,
  &_warning,
  &_danger {
    &:hover span {
      text-decoration: none;
    }
    span {
      .ui-mixin-button-text();
      .ui-mixin-text-ellipsis();
      padding: 0 @ui-unit-half;
      white-space: nowrap;
      word-wrap: normal;
      overflow: hidden;
    }
  }

  &_primary {
    color: @theme-text;
    border: 1px solid @theme;
    background-color: @theme;
    &:hover {
      background-color: @theme-dark;
    }
    //&:focus:before {
    //  border-color: @theme-darker;
    //}
  }

  &_secondary {
    color: @ui-color-black;
    border: 1px solid @ui-color-gray-light;
    background-color: fade(@ui-color-white, 50%);
    &:hover {
      background-color: fade(@ui-color-gray-light, 50%);
    }
    //&:focus:before {
    //  border-color: @theme;
    //}
  }

  &_accept {
    color: @ui-color-white;
    border: 1px solid @ui-color-green;
    background-color: @ui-color-green;
    &:hover {
      background-color: @ui-color-green-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-green-darker;
    //}
  }

  &_warning {
    color: @ui-color-white;
    border: 1px solid @ui-color-orange;
    background-color: @ui-color-orange;
    &:hover {
      background-color: @ui-color-orange-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-orange-darker;
    //}
  }

  &_danger {
    color: @ui-color-white;
    border: 1px solid @ui-color-red;
    background-color: @ui-color-red;
    &:hover {
      background-color: @ui-color-red-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-red-darker;
    //}
  }

  &_link, &_text {
    color: @theme;
    background-color: transparent !important;
    border: none !important;
    margin-left: @ui-unit-half !important;
    &:first-child {
      margin-left: 0 !important;
    }
    &:hover {
      color: @theme-dark;
    }
    i.@{prefix-cls}-icon {
      font-size: @ui-fontsize;
      padding-left: 0;
    }
    div i {
      padding-right: @ui-unit-quarter;
    }
  }

  &_link:hover span {
    text-decoration: underline;
  }
}


// Ghost Button.................................................................

.@{prefix-cls}-button--ghost {
  &.@{prefix-cls}-button {
    background-color: transparent;
  }
  &.@{prefix-cls}-button_primary {
    border: 1px solid @theme;
    color: @theme;
    &:hover {
      color: @theme-dark;
      border-color: @theme-dark;
    }
    //&:focus:before {
    //  border-color: @theme;
    //}
  }
  &.@{prefix-cls}-button_secondary {
    border: 1px solid @ui-color-gray-light;
    color: @ui-color-black;
    &:hover {
      color: black;
      border-color: @ui-color-gray-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-gray;
    //}
  }
  &.@{prefix-cls}-button_accept {
    border: 1px solid @ui-color-green;
    color: @ui-color-green;
    &:hover {
      border-color: @ui-color-green-dark;;
      color: @ui-color-green-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-green;
    //}
  }
  &.@{prefix-cls}-button_warning {
    border: 1px solid @ui-color-orange;
    color: @ui-color-orange;
    &:hover {
      color: @ui-color-orange-dark;
      border-color: @ui-color-orange-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-orange;
    //}
  }
  &.@{prefix-cls}-button_danger {
    border: 1px solid @ui-color-red;
    color: @ui-color-red;
    &:hover {
      color: @ui-color-red-dark;
      border-color: @ui-color-red-dark;
    }
    //&:focus:before {
    //  border-color: @ui-color-red;
    //}
  }
}

// Loading bar..................................................................

.@{prefix-cls}-button--loading {
  &,
  &:hover {
    background-color: transparent !important;
    border-color: transparent !important;
    cursor: default !important;
  }
  & > * {
    visibility: hidden;
  }
  &:after {
    content: '';
    background-size: @ui-unit-double @ui-unit-double;
    border-radius: inherit;
    visibility: visible;
    .ui-mixin-maximize();
    .ui-mixin-progress-bar-gradient(
            fade(@ui-color-gray-light, 65%),
            fade(@ui-color-gray-lighter, 65%)
    );
    .ui-mixin-animation(move-progress-bar, 1s, linear, infinite);
    margin: @ui-unit-half;
  }
  &.@{prefix-cls}-button--sm {
    &:after {
      zoom: .36;
    }
  }
}

// Size.........................................................................

.@{prefix-cls}-button--sm {
  &.@{prefix-cls}-button_primary,
  &.@{prefix-cls}-button_secondary,
  &.@{prefix-cls}-button_accept,
  &.@{prefix-cls}-button_warning,
  &.@{prefix-cls}-button_danger {
    .ui-mixin-fixheight(@ui-unit);
    border-radius: @ui-unit-half;
    padding: 0;
    font-size: @ui-fontsize-small;
    min-width: @ui-unit;
  }
  &:not(:disabled):after {
    .ui-mixin-maximize(0-@ui-unit-half,0,0-@ui-unit-half,0);
  }
  i {
    font-size: @ui-fontsize-medium;
    &:before {
      font-size: @ui-fontsize-medium;
    }
  }
}

.@{prefix-cls}-button--md {
  &.@{prefix-cls}-button_primary,
  &.@{prefix-cls}-button_secondary,
  &.@{prefix-cls}-button_accept,
  &.@{prefix-cls}-button_warning,
  &.@{prefix-cls}-button_danger {
    min-width: 82px;
    padding: @ui-unit-half - 1px;
    border-radius: @ui-unit;
  }
}

.@{prefix-cls}-button--lg {
  margin-right: @ui-unit;
  &.@{prefix-cls}-button_primary,
  &.@{prefix-cls}-button_secondary,
  &.@{prefix-cls}-button_accept,
  &.@{prefix-cls}-button_warning,
  &.@{prefix-cls}-button_danger {
    .ui-mixin-fixheight(@ui-unit-plus);
    border-radius: 28px;
    padding: 24px;
    font-size: @ui-fontsize-big;
    min-width: @ui-unit-plus;
  }
}

// Colorful background..........................................................

.@{prefix-cls}-bg-colorful .@{prefix-cls}-button {
  background-color: @ui-color-white;
  border: 1px solid @ui-color-white;
  &:hover {
    background-color: @ui-color-white;
  }
  &_link, &_text {
    color: @ui-color-white;
    &:hover {
      color: fade(@ui-color-white, 70%);
    }
  }
  &[disabled] {
    background-color: fade(@ui-color-white, 30%);
    border: 1px solid fade(@ui-color-white, 0%);
    color: fade(@ui-color-white, 40%);
    &:hover {
      background-color: fade(@ui-color-white, 30%);
      border: 1px solid fade(@ui-color-white, 0%);
      color: fade(@ui-color-white, 40%);
    }
  }
  &_primary {
    color: @ui-color-black;
    border: 1px solid @ui-color-white;
    background-color: @ui-color-white;
    &:hover {
      border: 1px solid @ui-color-white;
      color: fade(@ui-color-black, 70%);
    }
  }
  &_secondary {
    color: @ui-color-white;
    border: 1px solid @ui-color-white;
    background-color: transparent;
    &:hover {
      color: @ui-color-white;
      border: 1px solid fade(@ui-color-white, 30%);
      background-color: fade(@ui-color-white, 30%);
    }
  }
  &_accept {
    color: @ui-color-green;
    &:hover {
      color: fade(@ui-color-green, 70%);
      border: 1px solid @ui-color-white;
    }
  }
  &_warning {
    color: @ui-color-orange;
    &:hover {
      color: fade(@ui-color-orange, 70%);
      border: 1px solid @ui-color-white;
    }
  }
  &_danger {
    color: @ui-color-red;
    &:hover {
      color: fade(@ui-color-red, 70%);
      border: 1px solid @ui-color-white;
    }
  }
}

// Icon Button..................................................................

.@{prefix-cls}-button__icon-only {
  &.@{prefix-cls}-button_primary,
  &.@{prefix-cls}-button_secondary,
  &.@{prefix-cls}-button_accept,
  &.@{prefix-cls}-button_warning,
  &.@{prefix-cls}-button_danger {
    width: @ui-unit-double;
    height: @ui-unit-double;
    min-width: @ui-unit;
    border-radius: 50%;
  }
  &.@{prefix-cls}-button--sm {
    width: @ui-unit;
  }
  i.@{prefix-cls}-icon {
    .ui-mixin-reduce-l(0);
    font-size: @ui-fontsize-icon;
  }
}

// Disabled ....................................................................

.@{prefix-cls}-button[disabled] {
  cursor: not-allowed;
  color: fade(@ui-color-gray, 80%);
  border: 1px solid @ui-color-gray-lighter;
  background-color: @ui-color-gray-lighter;
  &:hover {
    color: fade(@ui-color-gray, 80%);
    border: 1px solid @ui-color-gray-lighter;
    background-color: @ui-color-gray-lighter;
  }
}

.@{prefix-cls}-button_link[disabled], .@{prefix-cls}-button_text[disabled] {
  margin-left: @ui-unit-half;
  &:first-child {
    margin-left: 0;
  }
}
